/* Generated by Opal 1.0.3 */
(function(Opal) {
  function $rb_plus(lhs, rhs) {
    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs + rhs : lhs['$+'](rhs);
  }
  function $rb_ge(lhs, rhs) {
    return (typeof(lhs) === 'number' && typeof(rhs) === 'number') ? lhs >= rhs : lhs['$>='](rhs);
  }
  var self = Opal.top, $nesting = [], nil = Opal.nil, $$$ = Opal.const_get_qualified, $$ = Opal.const_get_relative, $breaker = Opal.breaker, $slice = Opal.slice, $klass = Opal.klass, $send = Opal.send, $truthy = Opal.truthy;

  Opal.add_stubs(['$setPrefixes', '$===', '$to_i', '$last_match', '$challenge', '$getStructureEncounter', '$times', '$roll', '$==', '$+', '$<<', '$join', '$getSuccessText', '$>=', '$first', '$last', '$get_table_by_number', '$debug', '$nil?', '$get_table_by_1d6', '$getPersonTable1', '$lambda', '$getPersonTable2', '$getPersonTable', '$getPersonTable3', '$getPersonTable4', '$getD66', '$bcdice']);
  return (function($base, $super, $parent_nesting) {
    var self = $klass($base, $super, 'WitchQuest');

    var $nesting = [self].concat($parent_nesting), $WitchQuest_rollDiceCommand$1, $WitchQuest_challenge$2, $WitchQuest_getSuccessText$4, $WitchQuest_getStructureEncounter$5, $WitchQuest_getPersonTable1$6, $WitchQuest_getPersonTable2$8, $WitchQuest_getPersonTable3$10, $WitchQuest_getPersonTable4$12, $WitchQuest_getPersonTable$13;

    
    Opal.const_set($nesting[0], 'ID', "WitchQuest");
    Opal.const_set($nesting[0], 'NAME', "\u30A6\u30A3\u30C3\u30C1\u30AF\u30A8\u30B9\u30C8");
    Opal.const_set($nesting[0], 'SORT_KEY', "\u3046\u3044\u3064\u3061\u304F\u3048\u3059\u3068");
    Opal.const_set($nesting[0], 'HELP_MESSAGE', "" + "\u30FB\u30C1\u30E3\u30EC\u30F3\u30B8(\u6210\u529F\u5224\u5B9A)(WQn)\n" + "\u3000n\u56DE2d6\u30C0\u30A4\u30B9\u3092\u632F\u3063\u3066\u5224\u5B9A\u3092\u884C\u3044\u307E\u3059\u3002\n" + "\u3000\u4F8B\uFF09WQ3\n" + "\u30FBSET\uFF08\u30B9\u30C8\u30E9\u30AF\u30C1\u30E3\u30FC\u30AB\u30FC\u30C9\u306E\u906D\u9047\u8868(SETn)\n" + "\u3000\u30B9\u30C8\u30E9\u30AF\u30C1\u30E3\u30FC\u30AB\u30FC\u30C9\u306E\u756A\u53F7(n)\u306E\u906D\u9047\u8868\u7D50\u679C\u3092\u5F97\u307E\u3059\u3002\n" + "\u3000\u4F8B\uFF09SET1\u3000SET48\n");
    self.$setPrefixes(["WQ\\d+", "SET\\d+"]);
    
    Opal.def(self, '$rollDiceCommand', $WitchQuest_rollDiceCommand$1 = function $$rollDiceCommand(command) {
      var self = this, $case = nil, number = nil;

      
      $case = command;
      if (/WQ(\d+)/['$===']($case)) {
      number = $$($nesting, 'Regexp').$last_match(1).$to_i();
      return self.$challenge(number);}
      else if (/SET(\d+)/['$===']($case)) {
      number = $$($nesting, 'Regexp').$last_match(1).$to_i();
      return self.$getStructureEncounter(number);};
      return nil;
    }, $WitchQuest_rollDiceCommand$1.$$arity = 1);
    
    Opal.def(self, '$challenge', $WitchQuest_challenge$2 = function $$challenge(number) {
      var $$3, self = this, success = nil, results = nil, successText = nil;

      
      success = 0;
      results = [];
      $send(number, 'times', [], ($$3 = function(){var self = $$3.$$s || this, $a, $b, value1 = nil, value2 = nil;

      
        $b = self.$roll(1, 6), $a = Opal.to_ary($b), (value1 = ($a[0] == null ? nil : $a[0])), $b;
        $b = self.$roll(1, 6), $a = Opal.to_ary($b), (value2 = ($a[0] == null ? nil : $a[0])), $b;
        if (value1['$=='](value2)) {
          success = $rb_plus(success, 1)};
        return results['$<<']("" + (value1) + "," + (value2));}, $$3.$$s = self, $$3.$$arity = 0, $$3));
      successText = $rb_plus("" + "(" + (results.$join(" / ")) + ") \uFF1E ", self.$getSuccessText(success));
      return successText;
    }, $WitchQuest_challenge$2.$$arity = 1);
    
    Opal.def(self, '$getSuccessText', $WitchQuest_getSuccessText$4 = function $$getSuccessText(success) {
      var self = this, table = nil;

      
      table = [[0, "\u5931\u6557"], [1, "\uFF11\u30EC\u30D9\u30EB\u6210\u529F(\u6210\u529F)"], [2, "\uFF12\u30EC\u30D9\u30EB\u6210\u529F(\u5927\u6210\u529F)"], [3, "\uFF13\u30EC\u30D9\u30EB\u6210\u529F(\u5947\u8DE1\u7684\u5927\u6210\u529F)"], [4, "\uFF14\u30EC\u30D9\u30EB\u6210\u529F(\u6B74\u53F2\u7684\u5927\u6210\u529F)"], [5, "\uFF15\u30EC\u30D9\u30EB\u6210\u529F(\u4F1D\u8AAC\u7684\u5927\u6210\u529F)"], [6, "\uFF16\u30EC\u30D9\u30EB\u6210\u529F(\u795E\u8A71\u7684\u5927\u6210\u529F)"]];
      if ($truthy($rb_ge(success, table.$last().$first()))) {
        return table.$last().$last()};
      return self.$get_table_by_number(success, table);
    }, $WitchQuest_getSuccessText$4.$$arity = 1);
    
    Opal.def(self, '$getStructureEncounter', $WitchQuest_getStructureEncounter$5 = function $$getStructureEncounter(number) {
      var $a, $b, self = this, tables = nil, table = nil, text = nil, index = nil, person = nil;

      
      self.$debug("getStructureEncounter number", number);
      tables = [[1, ["\u8239\u304B\u3089\u964D\u308A\u3066\u304D\u305F", "\u9B5A\u3092\u58F2\u3063\u3066\u3044\u308B", "\u4ED5\u4E8B\u3067\u5FD9\u3057\u305D\u3046\u306A", "\u7570\u56FD\u304B\u3089\u6765\u305F", "\u304A\u3082\u3057\u308D\u304A\u304B\u3057\u3044", "\u6C57\u6C34\u6D41\u3057\u3066\u3044\u308B"]], [2, ["\u304A\u304B\u3057\u306A\u683C\u597D\u3092\u3057\u305F", "\u6B4C\u3092\u6B4C\u3063\u3066\u3044\u308B", "\u30B9\u30C6\u30AD\u306A\u7B11\u9854\u3092\u3057\u305F", "\u65E5\u306A\u305F\u307C\u3063\u3053\u3092\u3057\u3066\u3044\u308B", "\u60A9\u3093\u3067\u3044\u308B", "\u65C5\u3092\u3057\u3066\u3044\u308B"]], [3, ["\u5F85\u3061\u307C\u3046\u3051\u3092\u3057\u3066\u3044\u308B", "\u58C1\u306B\u767B\u3063\u3066\u3044\u308B", "\u30BF\u30D0\u30B3\u3092\u5438\u3063\u3066\u3044\u308B", "\u8E0A\u308A\u3092\u8E0A\u3063\u3066\u3044\u308B", "\u5E78\u305B\u305D\u3046\u306A", "\u5411\u3053\u3046\u304B\u3089\u8D70\u3063\u3066\u304F\u308B"]], [4, ["\u898B\u5F35\u308A\u3092\u3057\u3066\u3044\u308B", "\u3057\u3083\u3079\u308C\u306A\u3044", "\u898B\u5F35\u308A\u3092\u3057\u3066\u3044\u308B", "\u4E00\u8F2A\u8ECA\u306B\u4E57\u3063\u305F", "\u5143\u6C17\u3044\u3063\u3071\u3044\u306E", "\u771F\u9762\u76EE\u306A"]], [5, ["\u30A6\u30BD\u3064\u304D\u306A", "\u8CB7\u3044\u7269\u3092\u3057\u3066\u3044\u308B", "\u30AE\u30BF\u30FC\u3092\u5F3E\u3044\u3066\u3044\u308B", "\u3042\u306A\u305F\u306E\u307B\u3046\u3092\u3058\u3063\u3068\u898B\u3066\u3044\u308B", "\u30DD\u30C3\u30D7\u30B3\u30FC\u30F3\u3092\u58F2\u3063\u3066\u3044\u308B", "\u5C4B\u53F0\u3092\u51FA\u3057\u3066\u3044\u308B"]], [6, ["\u5B50\u4F9B\u3092\u63A2\u3057\u3066\u3044\u308B", "\u6642\u8A08\u3092\u76F4\u3057\u3066\u3044\u308B", "\u7269\u4E5E\u3044\u3092\u3057\u3066\u3044\u308B", "\u6C17\u8C61\u5B9F\u9A13\u3092\u3057\u3066\u3044\u308B", "\u98DB\u3073\u964D\u308A\u3088\u3046\u3068\u3057\u3066\u3044\u308B", "\u6642\u9593\u3092\u304D\u306B\u3057\u3066\u3044\u308B"]], [7, ["\u76EE\u306E\u898B\u3048\u306A\u3044", "\u91D1\u6301\u3061\u305D\u3046\u306A", "\u4E00\u4EBA\u6B69\u304D\u3092\u3057\u305F\u3053\u3068\u304C\u306A\u3044", "\u3075\u3089\u308C\u3066\u3057\u307E\u3063\u305F", "\u5F85\u3061\u5408\u308F\u305B\u3092\u3057\u3066\u3044\u308B", "\u9053\u306B\u8FF7\u3063\u305F"]], [8, ["\u304A\u7948\u308A\u3092\u3057\u3066\u3044\u308B", "\u30B9\u30B1\u30C3\u30C1\u3092\u3057\u3066\u3044\u308B", "\u52C9\u5F37\u71B1\u5FC3\u306A", "\u8A18\u5FF5\u7891\u3092\u58CA\u305D\u3046\u3068\u3057\u3066\u3044\u308B", "\u5927\u304D\u306A\u58F0\u3067\u6587\u53E5\u3092\u3044\u3063\u3066\u3044\u308B", "\u8A18\u5FF5\u64AE\u5F71\u3057\u3066\u3044\u308B"]], [9, ["\u96A0\u308C\u3066\u3044\u308B", "\u306F\u3057\u3054\u306B\u767B\u3063\u3066\u3044\u308B", "\u9418\u3092\u9CF4\u3089\u3057\u3066\u3044\u308B", "\u5171\u901A\u8A9E\u306E\u901A\u3058\u306A\u3044", "\u8A18\u61B6\u3092\u5931\u3063\u305F", "\u3042\u306A\u305F\u306E\u307B\u3046\u306B\u30D0\u30BF\u30C3\u3068\u5012\u308C\u305F"]], [10, ["\u6687\u305D\u3046\u306A", "\u7B11\u3063\u305F\u3053\u3068\u304C\u306A\u3044", "\u3076\u304F\u3076\u304F\u3068\u592A\u3063\u305F", "\u5F8C\u7D99\u8005\u3092\u63A2\u3057\u3066\u3044\u308B", "\u738B\u69D8\u306B\u304A\u3064\u304B\u3048\u3057\u3066\u3044\u308B", "\u611B\u56FD\u5FC3\u65FA\u76DB\u306A"]], [11, ["\u9589\u3058\u8FBC\u3081\u3089\u308C\u305F", "\u60B2\u3057\u305D\u3046\u306A", "\u6012\u3063\u3066\u3044\u308B", "\u964D\u308A\u308C\u306A\u304F\u306A\u3063\u3066\u3044\u308B", "\u3082\u306E\u6182\u3052\u306A", "\u98DB\u307C\u3046\u3068\u3057\u3066\u3044\u308B"]], [12, ["\u91E3\u308A\u3092\u3057\u3066\u3044\u308B", "\u6CF3\u3044\u3067\u3044\u308B", "\u5DDD\u306B\u7269\u3092\u843D\u3068\u3057\u3066\u3057\u307E\u3063\u305F", "\u7802\u91D1\u3092\u6398\u3063\u3066\u3044\u308B", "\u5DDD\u306B\u30B4\u30DF\u3092\u6368\u3066\u3066\u3044\u308B", "\u30AB\u30A8\u30EB\u306B\u5316\u304B\u3055\u308C\u3066\u3057\u307E\u3063\u305F"]], [13, ["\u4E16\u9593\u8A71\u3092\u3057\u3066\u3044\u308B", "\u7D50\u5A5A\u3092\u85A6\u3081\u305F\u304C\u308B", "\u3044\u3084\u3089\u3057\u3044\u8A71\u306E\u597D\u304D\u306A", "\u9078\u629E\u3092\u3057\u3066\u3044\u308B", "\u6C34\u3092\u6C72\u3093\u3067\u3044\u308B", "\u4E95\u6238\u306B\u843D\u3061\u3066\u3057\u307E\u3063\u305F"]], [14, ["\u4EBA\u306B\u304A\u3054\u308A\u305F\u304C\u308B", "\u8E0A\u308A\u5B50\u3092\u3057\u3066\u3044\u308B", "\u8CED\u3051\u3092\u3057\u3066\u3044\u308B", "\u6CE3\u304D\u4E0A\u6238\u306A", "\u98F2\u307F\u6BD4\u3079\u3092\u3057\u3066\u3044\u308B", "\u81EA\u6162\u8A71\u3092\u3057\u3066\u3044\u308B"]], [15, ["\u7D20\u6734\u305D\u3046\u306A", "\u7530\u820E\u8005\u306E", "\u3042\u306A\u305F\u3092\u3060\u307E\u305D\u3046\u3068\u3057\u3066\u3044\u308B", "\u30B1\u30F3\u30AB\u3092\u3057\u3066\u3044\u308B", "\u6CCA\u307E\u308B\u304A\u91D1\u306E\u306A\u3044", "\u3042\u306A\u305F\u306B\u4F9D\u983C\u3092\u3057\u306B\u304D\u305F"]], [16, ["\u60AA\u3044\u5360\u3044\u306E\u7D50\u679C\u3057\u304B\u8A00\u308F\u306A\u3044", "\u3042\u306A\u305F\u306B\u5AC9\u59AC\u3057\u3066\u3044\u308B", "\u9B45\u60D1\u7684\u306A", "\u304A\u3057\u3064\u3051\u304C\u307E\u3057\u3044", "\u3044\u3044\u304B\u3052\u3093\u306A\u5360\u3044\u3057\u304B\u3057\u306A\u3044", "\u5909\u308F\u3063\u305F\u5360\u3044\u3092\u3057\u3066\u3044\u308B"]], [17, ["\u304B\u304F\u308C\u3093\u307C\u3092\u3057\u3066\u3044\u308B", "\u3042\u307E\u3084\u3069\u308A\u3092\u3057\u3066\u3044\u308B", "(\u3053\u3053\u306B\u306F\u3060\u308C\u3082\u3044\u307E\u305B\u3093)", "\u5BB6\u306E\u6383\u9664\u3092\u3057\u3066\u3044\u308B", "\u53D6\u308A\u58CA\u3057\u3092\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308B", "\u6614\u3053\u3053\u306B\u4F4F\u3093\u3067\u3044\u305F"]], [18, ["\u7551\u3092\u8015\u3057\u3066\u3044\u308B", "\u7551\u3092\u8352\u3089\u3057\u3066\u3044\u308B", "\u7551\u6CE5\u68D2\u306E", "\u53CE\u7A6B\u3057\u3066\u3044\u308B", "\u65E5\u713C\u3051\u3057\u3066\u771F\u3063\u9ED2\u306A", "\u5AC1\u3044\u3067\u304D\u305F(\u5A7F\u306B\u304D\u305F)"]], [19, ["\u7C89\u3092\u3072\u3044\u3066\u3044\u308B", "\u99AC\u306B\u4E57\u3063\u3066\u98A8\u8ECA\u306B\u7A81\u9032\u3057\u3066\u3044\u308B", "\u98A8\u304C\u5439\u304B\u306A\u304F\u3066\u56F0\u3063\u3066\u3044\u308B", "\u5BDD\u3066\u3044\u308B", "\u7B4B\u9AA8\u308A\u3085\u3046\u308A\u3085\u3046\u306A", "\u904A\u3093\u3067\u3044\u308B"]], [20, ["\u30D1\u30FC\u30C6\u30A3\u30FC\u3092\u3057\u3066\u3044\u308B", "\u9154\u3063\u6255\u3063\u3066\u3044\u308B", "\u9152\u3092\u4ED5\u8FBC\u3093\u3067\u3044\u308B", "\u5373\u58F2\u4F1A\u3092\u3057\u3066\u3044\u308B", "\u7B11\u3063\u3066\u3044\u308B", "\u592A\u3063\u305F"]], [21, ["\u3072\u3068\u308A\u305F\u305F\u305A\u3080", "\u82B1\u304B\u3089\u751F\u307E\u308C\u305F", "\u82B1\u304C\u5927\u597D\u304D\u306A", "\u82B1\u7C89\u75C7\u306E", "\u82B1\u3092\u8CB7\u3044\u306B\u304D\u305F", "\u30E9\u30B0\u30D3\u30FC\u3092\u3084\u3063\u3066\u82B1\u3092\u3042\u3089\u3057\u3066\u308B"]], [22, ["\u51E0\u5E33\u9762\u306A", "\u773C\u93E1\u3092\u304B\u3051\u305F", "\u306A\u307E\u3044\u304D\u306A", "\u306A\u308F\u3068\u3073\u3092\u3057\u3066\u3044\u308B", "\u56F0\u3063\u3066\u3044\u308B", "\u307E\u305B\u3066\u3044\u308B"]], [23, ["\u672C\u3092\u8AAD\u3093\u3067\u3044\u308B", "\u4E16\u9593\u8A71\u3092\u3057\u305F\u304C\u308B", "\u6D3E\u624B\u306A\u683C\u597D\u3092\u3057\u305F", "\u52C9\u5F37\u71B1\u5FC3\u306A", "\u3046\u308B\u3055\u3044", "\u9B54\u5973\u306E\u3053\u3068\u306B\u3064\u3044\u3066\u8ABF\u3079\u3066\u3044\u308B"]], [24, ["\u795E\u7236\u3055\u3093\u306B\u76F8\u8AC7\u3092\u3057\u3066\u3044\u308B", "\u7D50\u5A5A\u5F0F\u3092\u6319\u3052\u3066\u3044\u308B", "\u7269\u9759\u304B\u306A", "\u7247\u8DB3\u306E\u7121\u3044", "\u71B1\u3044\u8996\u7DDA\u3092\u9001\u3063\u3066\u304F\u308B", "\u6311\u767A\u3057\u3066\u304F\u308B"]], [25, ["\u9811\u56FA\u306A", "\u5200\u306E\u5207\u308C\u5473\u3092\u305F\u3081\u3057\u305F\u304C\u308B", "\u3044\u3044\u304B\u3052\u3093\u306A\u6027\u683C\u306E", "\u30B9\u30B0\u306B\u5F1F\u5B50\u306B\u3057\u305F\u304C\u308B", "\u898B\u305B\u306E\u524D\u3067\u30A6\u30ED\u30A6\u30ED\u3057\u3066\u3044\u308B", "\u9053\u3092\u5C0B\u306D\u3066\u3044\u308B"]], [26, ["\u4E0D\u6A5F\u5ACC\u306A", "\u5BA2\u306E\u610F\u898B\u3092\u805E\u304B\u306A\u3044", "\u7269\u3092\u58F2\u3089\u306A\u3044", "\u4E0D\u5E78\u306A\u6C17\u524D\u306E\u3044\u3044", "\u767A\u660E\u5BB6\u306E"]], [27, ["\u604B\u4EBA\u306B\u30D7\u30EC\u30BC\u30F3\u30C8\u3092\u63A2\u3057\u3066\u3044\u308B", "\u9999\u308A\u4E2D\u6BD2\u306B\u306A\u3063\u305F", "\u5BA2\u306B\u624B\u4F1D\u308F\u305B\u308B", "\u304A\u307E\u3058\u306A\u3044\u306E\u597D\u304D\u306A", "\u4EBA\u597D\u304D\u306E\u3059\u308B", "\u3044\u3058\u3081\u3063\u3053\u306A"]], [28, ["\u9A12\u304C\u3057\u3044", "\u304A\u83D3\u5B50\u3092\u98DF\u3079\u3066\u6D99\u3092\u6D41\u3057\u3066\u3044\u308B", "\u7B11\u3044\u306E\u6B62\u307E\u3089\u306A\u3044", "\u7518\u3044\u7269\u306B\u76EE\u304C\u306A\u3044", "\u5225\u308C\u8A71\u3092\u3057\u3066\u3044\u308B", "\u3042\u306A\u305F\u3092\u304A\u8336\u306B\u8A98\u3046"]], [29, ["\u30D5\u30E9\u30F3\u30B9\u30D1\u30F3\u3092\u76D7\u3093\u3067\u8D70\u308B", "\u3057\u3089\u3051\u305F\u9854\u3092\u3057\u305F", "\u5E97\u756A\u3092\u3059\u308B", "\u3042\u306A\u305F\u3092\u30D0\u30A4\u30C8\u3067\u4F7F\u3044\u305F\u304C\u308B", "\u5909\u306A\u30D1\u30F3\u3057\u304B\u4F5C\u3089\u306A\u3044", "\u671D\u304C\u82E6\u624B\u306A"]], [30, ["\u504F\u5C48\u306A", "\u5A01\u52E2\u306E\u3044\u3044", "\u30B1\u30F3\u30AB\u3063\u3071\u3084\u3044", "\u91CE\u6B21\u99AC\u6839\u6027\u306E\u5F37\u3044", "\u8089\u304C\u98DF\u3079\u308C\u306A\u3044", "\u5FC3\u512A\u3057\u304F\u6C17\u524D\u304C\u3044\u3044"]], [31, ["\u592B\u5A66\u30B1\u30F3\u30AB\u3092\u3057\u3066\u3044\u308B", "\u732B\u306B\u9B5A\u3092\u76D7\u3089\u308C\u305F", "\u52A9\u3051\u3092\u6C42\u3081\u3066\u3044\u308B", "\u9B5A\u306E\u7A2E\u985E\u304C\u308F\u304B\u3089\u306A\u3044", "\u300E\u304A\u3044\u3057\u3044\u300F\u3068\u3057\u304B\u3044\u308F\u306A\u3044", "\u3042\u3084\u3057\u3044"]], [32, ["\u30E4\u30F3\u30AD\u30FC\u98A8\u306E", "\u81EA\u5206\u304C\u304B\u3063\u3053\u3044\u3044\u3068\u601D\u3063\u3066\u3044\u308B", "\u529B\u81EA\u6162\u306E", "\u5143\u306F\u738B\u69D8\u3060\u3068\u3044\u3044\u306F\u308B", "\u9B54\u5973\u306E\u30D5\u30A1\u30F3\u3060\u3068\u3044\u3046", "\u5B50\u6CA2\u5C71\u306E"]], [33, ["\u308F\u304C\u307E\u307E\u306A", "\u304B\u3063\u3053\u3044\u3044", "\u72EC\u308A\u8A00\u3092\u8A00\u3063\u3066\u3044\u308B", "\u5909\u308F\u3063\u305F\u6599\u7406\u3057\u304B\u3060\u3055\u306A\u3044", "\u76EE\u8336\u82E6\u8336\u8F9B\u3044\u6599\u7406\u3092\u98DF\u3079\u3066\u3044\u308B", "\u30C7\u30FC\u30C8\u3092\u3057\u3066\u3044\u308B"]], [34, ["\u4EEE\u75C5\u3092\u4F7F\u3063\u3066\u3044\u308B", "\u4E0D\u6CBB\u306E\u75C5\u3092\u6301\u3063\u305F", "\u201D\u304A\u3081\u3067\u305F\u201D\u306E", "\u30D5\u30B1\u305F\u9854\u3057\u305F", "\u9AEA\u306E\u6BDB\u3092\u67D3\u3081\u305F", "(\u5065\u5EB7\u3067\u3082)\u75C5\u540D\u3092\u3044\u3044\u305F\u304C\u308B"]], [35, ["\u5B9F\u9A13\u3092\u3057\u305F\u304C\u308B", "\u7CBE\u529B\u3092\u3064\u3051\u305F\u304C\u3063\u3066\u3044\u308B", "\u60DA\u308C\u85AC\u3092\u63A2\u3057\u3066\u3044\u308B", "\u85AC\u3065\u3051\u306B\u306A\u3063\u3066\u3044\u308B", "\u3053\u306E\u753A\u307E\u3067\u85AC\u3092\u58F2\u308A\u306B\u6765\u305F", "\u7761\u7720\u85AC\u3067\u81EA\u6BBA\u3092\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308B"]], [36, ["\u670D\u307E\u3067\u8CEA\u306B\u5165\u308C\u305F", "\u5024\u6BB5\u306B\u30B1\u30C1\u3092\u3064\u3051\u3066\u3044\u308B", "\u75B2\u308C\u3066\u3044\u308B", "\u5B50\u4F9B\u3092\u8CEA\u306B\u5165\u308C\u3088\u3046\u3068\u3057\u3066\u3044\u308B", "\u6D99\u3082\u308D\u3044", "\u4EBA\u9593\u4E0D\u4FE1\u306A"]], [37, ["\u7740\u98FE\u3063\u305F", "\u304A\u306D\u3060\u308A\u3057\u3066\u3044\u308B", "\u9000\u5C48\u305D\u3046\u306A", "\u898B\u6804\u3063\u3071\u308A\u306A", "\u9AD8\u3044\u3082\u306E\u3092\u85A6\u3081\u308B", "\u5B9D\u77F3\u306A\u3069\u8CB7\u3046\u3064\u3082\u308A\u306E\u306A\u3044"]], [38, ["\u3060\u3060\u3092\u3053\u306D\u3066\u3044\u308B", "\u306C\u3044\u3050\u308B\u307F\u3092\u62B1\u3044\u3066\u3044\u308B", "\u3042\u306A\u305F\u3092\u4FB5\u7565\u8005\u3068\u8003\u3048\u3066\u3044\u308B", "\u3042\u306A\u305F\u306E\u201D\u304A\u3057\u308A\u201D\u306B\u3055\u308F\u308B", "\u5E78\u305B\u306E\u304A\u3082\u3061\u3083\u3092\u58F2\u3063\u3066\u3044\u308B", "\u3042\u306A\u305F\u3092\u81EA\u5206\u306E\u5B50\u3068\u9593\u9055\u3048\u3066\u3044\u308B"]], [39, ["\u4EBA\u306E\u8A71\u3092\u805E\u304B\u306A\u3044", "\u6C17\u5206\u5C4B\u306A", "\u30AB\u30EA\u30A2\u30B2\u3057\u304B\u3067\u304D\u306A\u3044", "\u3046\u308F\u3055\u8A71\u306E\u597D\u304D\u306A", "\u81EA\u52D5\u8CA9\u58F2\u6A5F\u3092\u958B\u767A\u3057\u305F\u3068\u3044\u3046", "\u304A\u305B\u3063\u304B\u3044\u306A"]], [40, ["\u304A\u98A8\u5442\u3042\u304C\u308A\u306E", "\u3053\u304D\u3064\u304B\u308F\u308C\u3066\u3044\u308B", "\u30B7\u30A7\u30A4\u30D7\u30A2\u30C3\u30D7\u3057\u3066\u3044\u308B", "\u4EBA\u304B\u3089\u8FFD\u308F\u308C\u3066\u3044\u308B", "\u4EBA\u306E\u4F53\u3092\u3058\u308D\u3058\u308D\u3068\u898B\u308B", "\u3053\u306E\u753A\u3092\u6848\u5185\u3057\u3066\u307B\u3057\u3044\u3068\u3044\u3046"]], [41, ["\u30B5\u30F3\u30B0\u30E9\u30B9\u3092\u304B\u3051\u305F", "\u307F\u3093\u306A\u81EA\u5206\u306E\u30D5\u30A1\u30F3\u3068\u601D\u3063\u3066\u3044\u308B", "\u3042\u306A\u305F\u3092\u5F79\u8005\u3068\u52D8\u9055\u3044\u3057\u3066\u3044\u308B", "\u3042\u306A\u305F\u306F\u30B9\u30BF\u30FC\u306B\u306A\u308C\u308B\u3068\u3044\u3046", "\u624B\u54C1\u3092\u3057\u3066\u3044\u308B", "\u300E\u3044\u305D\u304C\u3057\u3044\u300F\u3092\u3044\u3044\u7D9A\u3051\u3066\u3044\u308B"]], [42, ["\u30AE\u30E3\u30F3\u30D6\u30EB\u3092\u3057\u3066\u3044\u308B", "\u7AF6\u6280\u306B\u51FA\u5834\u3057\u3066\u3044\u308B", "\u5168\u8CA1\u7523\u3092\u8CED\u3051\u3066\u3044\u308B", "\u52C7\u6562\u306A", "\u53C2\u52A0\u8005\u3092\u52DF\u3063\u3066\u3044\u308B", "\u60C5\u3051\u306A\u3044\u7AF6\u6280(\u95D8\u6280)\u3092\u3057\u3066\u308B"]], [43, ["\u30C0\u30F3\u30B9\u3092\u8E0A\u3063\u3066\u3044\u308B", "\u30D6\u30EC\u30A4\u30AF\u30C0\u30F3\u30B9\u3092\u3057\u3066\u5834\u9055\u3044\u306A", "\u5B50\u4F9B\u3092\u80CC\u4E2D\u306B\u304A\u3093\u3076\u3057\u3066\u3044\u308B", "\u3042\u306A\u305F\u3068\u8E0A\u308A\u305F\u304C\u308B", "\u8E0A\u3063\u305F\u3053\u3068\u306E\u306A\u3044", "\u98DF\u3079\u308B\u3053\u3068\u306B\u5922\u4E2D\u306A"]], [44, ["\uFF12\u968E\u304B\u3089\u304A\u91D1\u3092\u3070\u3089\u307E\u3044\u3066\u3044\u308B", "\u7A93\u306E\u5965\u3067\u6D99\u3092\u306A\u304C\u3057\u3066\u3044\u308B", "\u7A93\u304B\u3089\u5FCD\u3073\u3053\u3082\u3046", "\u30D4\u30A2\u30CE\u3092\u5F3E\u3044\u3066\u3044\u308B", "\u3053\u3053\u306B\u4F4F\u3093\u3067\u3044\u308B", "\u5BB6\u306B\u62DB\u5F85\u3057\u305F\u304C\u308B"]], [45, ["\u99AC\u306B\u30D6\u30E9\u30B7\u3092\u304B\u3051\u3066\u3044\u308B", "\u6C17\u6027\u306E\u6FC0\u3057\u3044", "\u9A0E\u624B\u3092\u63A2\u3057\u3066\u3044\u308B", "\u99AC\u3068\u8A71\u304C\u3067\u304D\u308B", "\u99AC\u306E\u751F\u307E\u308C\u5909\u308F\u308A\u3068\u3044\u3046", "\u99AC\u3092\u5B89\u697D\u6B7B\u3055\u305B\u3088\u3046\u304B\u8FF7\u3063\u3066\u3044\u308B"]], [46, ["\u3044\u305F\u305A\u3089\u597D\u304D\u306A", "\u30E9\u30A4\u30D0\u30EB\u610F\u8B58\u306E\u5F37\u3044", "\u9B54\u6CD5\u306E\u4E0B\u624B\u306A", "\u9B54\u6CD5\u3092\u4FE1\u3058\u306A\u3044", "\u81EA\u5206\u3092\u795E\u3068\u601D\u3063\u3066\u3044\u308B", "\u9B54\u6CD5\u3092\u4F7F\u3063\u3066\u4EBA\u3092\u5316\u304B\u3057\u305F\u304C\u308B"]], [47, ["\u50B7\u3060\u3089\u3051\u306A", "\u4E21\u624B\u306B\u5B9D\u7269\u3092\u6301\u3063\u305F", "\u304B\u308F\u3044\u3044", "\u5730\u56F3\u3092\u898B\u306A\u304C\u3089\u51FA\u3066\u304D\u3066\u3044\u308B", "\u5263\u3092\u6301\u3063\u305F", "\u30C0\u30F3\u30B8\u30E7\u30F3\u306E\u4E3B\u3068\u3044\u308F\u308C\u308B"]], [48, ["\u5893\u53C2\u308A\u3092\u3057\u3066\u3044\u308B", "\u8033\u306E\u9060\u3044", "\u6B7B\u3093\u3067\u3057\u307E\u3063\u305F", "\u846C\u5F0F\u3092\u3057\u3066\u3044\u308B", "\u304D\u3082\u3060\u3081\u3057\u3092\u3057\u3066\u3044\u308B", "\u5893\u5B88\u3092\u3057\u3066\u3044\u308B"]]];
      table = self.$get_table_by_number(number, tables, nil);
      if ($truthy(table['$nil?']())) {
        return nil};
      $b = self.$get_table_by_1d6(table), $a = Opal.to_ary($b), (text = ($a[0] == null ? nil : $a[0])), (index = ($a[1] == null ? nil : $a[1])), $b;
      person = self.$getPersonTable1();
      return "" + "SET" + (number) + " \uFF1E " + (index) + ":" + (text) + (person);
    }, $WitchQuest_getStructureEncounter$5.$$arity = 1);
    
    Opal.def(self, '$getPersonTable1', $WitchQuest_getPersonTable1$6 = function $$getPersonTable1() {
      var $$7, self = this, gotoNextTable = nil, table = nil;

      
      gotoNextTable = $send(self, 'lambda', [], ($$7 = function(){var self = $$7.$$s || this;

      return $rb_plus("\u8868\uFF12\u3078", self.$getPersonTable2())}, $$7.$$s = self, $$7.$$arity = 0, $$7));
      table = [[11, "\u304A\u3058\u3055\u3093"], [12, "\u304A\u3070\u3055\u3093"], [13, "\u304A\u3058\u3044\u3055\u3093"], [14, "\u304A\u3070\u3042\u3055\u3093"], [15, "\u7537\u306E\u5B50"], [16, "\u5973\u306E\u5B50"], [22, "\u7F8E\u5C11\u5973"], [23, "\u7F8E\u5C11\u5E74"], [24, "\u9752\u5E74"], [25, "\u5C11\u5E74"], [26, "\u7537\u5973(\u30AB\u30C3\u30D7\u30EB)"], [33, "\u65B0\u5A5A\u3055\u3093"], [34, "\u304A\u5144\u3055\u3093"], [35, "\u304A\u59C9\u3055\u3093"], [36, "\u5E97\u4E3B(\u304A\u5E97\u306E\u4EBA)"], [44, "\u738B\u69D8"], [45, "\u885B\u5175"], [46, "\u9B54\u5973"], [55, "\u304A\u59EB\u69D8"], [56, gotoNextTable], [66, gotoNextTable]];
      return self.$getPersonTable(table);
    }, $WitchQuest_getPersonTable1$6.$$arity = 0);
    
    Opal.def(self, '$getPersonTable2', $WitchQuest_getPersonTable2$8 = function $$getPersonTable2() {
      var $$9, self = this, gotoNextTable = nil, table = nil;

      
      gotoNextTable = $send(self, 'lambda', [], ($$9 = function(){var self = $$9.$$s || this;

      return $rb_plus("\u8868\uFF13\u3078", self.$getPersonTable3())}, $$9.$$s = self, $$9.$$arity = 0, $$9));
      table = [[11, "\u9B54\u6CD5\u4F7F\u3044"], [12, "\u89B3\u5149\u5BA2"], [13, "\u5148\u751F"], [14, "\u63A2\u5075"], [15, "\u5237"], [16, "\u304A\u5B22\u69D8"], [22, "\u304A\u5B22\u69D8"], [23, "\u7D33\u58EB"], [24, "\u3054\u5A66\u4EBA"], [25, "\u5973\u738B\u69D8"], [26, "\u8077\u4EBA\u3055\u3093"], [33, "\u5973\u5B50\u9AD8\u751F"], [34, "\u5B66\u751F"], [35, "\u5263\u95D8\u58EB"], [36, "\u9CE5"], [44, "\u732B"], [45, "\u72AC"], [46, "\u30AB\u30A8\u30EB"], [55, "\u86C7"], [56, gotoNextTable], [66, gotoNextTable]];
      return self.$getPersonTable(table);
    }, $WitchQuest_getPersonTable2$8.$$arity = 0);
    
    Opal.def(self, '$getPersonTable3', $WitchQuest_getPersonTable3$10 = function $$getPersonTable3() {
      var $$11, self = this, gotoNextTable = nil, table = nil;

      
      gotoNextTable = $send(self, 'lambda', [], ($$11 = function(){var self = $$11.$$s || this;

      return $rb_plus("\u8868\uFF14\u3078", self.$getPersonTable4())}, $$11.$$s = self, $$11.$$arity = 0, $$11));
      table = [[11, "\u8CB4\u65CF"], [12, "\u3044\u308B\u304B"], [13, "\u3060\u3044\u3053\u3093"], [14, "\u3058\u3083\u304C\u3044\u3082"], [15, "\u306B\u3093\u3058\u3093"], [16, "\u30C9\u30E9\u30B4\u30F3"], [22, "\u30BE\u30F3\u30D3"], [23, "\u5E7D\u970A"], [24, "\u3046\u3055\u304E"], [25, "\u5929\u4F7F"], [26, "\u60AA\u9B54"], [33, "\u8D64\u3061\u3083\u3093"], [34, "\u99AC"], [35, "\u77F3"], [36, "\u304A\u6BCD\u3055\u3093"], [44, "\u5996\u7CBE"], [45, "\u5B88\u8B77\u970A"], [46, "\u732B\u795E\u69D8"], [55, "\u30ED\u30DC\u30C3\u30C8"], [56, "\u6050\u308D\u3057\u3044\u4EBA"], [66, gotoNextTable]];
      return self.$getPersonTable(table);
    }, $WitchQuest_getPersonTable3$10.$$arity = 0);
    
    Opal.def(self, '$getPersonTable4', $WitchQuest_getPersonTable4$12 = function $$getPersonTable4() {
      var self = this, table = nil;

      
      table = [[11, "\u9B54\u5973\u30A8\u30C7\u30A3\u30B9"], [12, "\u9B54\u5973\u30EC\u30FC\u30C7\u30EB\u30E9\u30F3"], [13, "\u9B54\u5973\u30AD\u30EA\u30EB"], [14, "\u5927\u9B54\u5973\u201D\u30ED\u30ED\u201D\u69D8"], [15, "\u30A8\u30C7\u30A3\u30B9\u306E\u304A\u6BCD\u3055\u3093\u201D\u30A8\u30EA\u30FC\u201D"], [16, "\u732B\u30C8\u30F3\u30AC\u30EA"], [22, "\u732B\u30D2\u30E5\u30FC\u30D9"], [23, "\u732B\u3086\u3046\u306E\u3059"], [24, "\u732B\u96C6\u4F1A\u306E\u96C6\u56E3\u306E\u4E00\u56E3"], [25, "\u5CA9"], [26, "PC\u306E\u6BCD"], [33, "PC\u306E\u7236"], [34, "PC\u306E\u5144"], [35, "PC\u306E\u59C9"], [36, "PC\u306E\u5F1F"], [44, "PC\u306E\u59B9"], [45, "PC\u306E\u9060\u3044\u89AA\u621A"], [46, "PC\u306E\u6B7B\u3093\u3060\u306F\u305A\u306E\u4E21\u89AA"], [55, "\u521D\u604B\u306E\u4EBA"], [56, "\u5206\u304B\u308C\u305F\u5973(\u7537)\u3001\u4E0D\u502B\u4E2D\u306E\u76F8\u624B\u3001\u307E\u305F\u306F\u72EC\u8EABPC\u306E\u5834\u5408\u3001\u4E8C\u80A1\u3092\u304B\u3051\u3066\u3044\u308B\u4E8C\u4EBA\u306E\u4E21\u65B9"], [66, "\u5B87\u5B99\u4EBA"]];
      return self.$getPersonTable(table);
    }, $WitchQuest_getPersonTable4$12.$$arity = 0);
    return (Opal.def(self, '$getPersonTable', $WitchQuest_getPersonTable$13 = function $$getPersonTable(table) {
      var self = this, isSwap = nil, number = nil;

      
      isSwap = true;
      number = self.$bcdice().$getD66(isSwap);
      self.$debug("getPersonTable number", number);
      return $rb_plus("" + " \uFF1E " + (number) + ":", self.$get_table_by_number(number, table));
    }, $WitchQuest_getPersonTable$13.$$arity = 1), nil) && 'getPersonTable';
  })($nesting[0], $$($nesting, 'DiceBot'), $nesting)
})(Opal);
